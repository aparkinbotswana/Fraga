
<h1>New Post</h1>

<%= render 'form', post: @post %>

<%= link_to 'Back', posts_path %>

<!-- Andy- Google maps marker -->
<style>
  #userMap {
    height: 300px;
    width: 100%;
  }
</style>

<script>
var map;
function initMap() {
  map = new google.maps.Map(document.getElementById('userMap'), {
    center: {lat: <%= @current_user.latitude %>, lng: <%= @current_user.longitude %>},
    zoom: 15
  });
  marker = new google.maps.Marker({
      map:map,
      draggable:true,
      animation: google.maps.Animation.DROP,
      position: {lat: <%= @current_user.latitude %>, lng: <%= @current_user.longitude %>}
  });
  google.maps.event.addListener(marker, 'dragend', function()
  {
    console.log(marker.getPosition().lat());
    console.log(marker.getPosition().lng());
    var r_lat = marker.getPosition().lat();
    var r_lng = marker.getPosition().lng();
    return [r_lat, r_lng]
  });
};
</script>
<div style="height: 500px; width: 400px; border: 1px solid black; display: inline; float:right; margin-right: 100px">
  <h2>My Location</h2>
  <form action="/action_page.php" style="left:0">
    <input type="radio" name="userLoc" value="male"> Default (based on your IP address)<br><br>
    <input type="radio" name="userLoc" value="female"> <input type="text" placeholder="Address" name="Address"><br><br>
    <input type="radio" name="userLoc" value="other">Map: <div id="userMap"></div><br>
    <input type="submit" value="Submit">
  </form>
</div>
